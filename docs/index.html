<html>

<head>
    <title>
        Go-Boiler | Documentation
    </title>
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.1/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/hybrid.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body>

    <div class="side-nav" id="sidebar" style="background-color:#2f3942">
        <ul class="nav">
            <li class="nav-item">
                <h5 style="color:#fff; text-align: center;">
                        <span class="show-md">
                                Go-boiler  <i class="fas fa-times fa-md pull-right" onclick="toggleSidebar()"></i>
                        </span>
                </h5>
            </li>
            <li class="nav-item">
                <a href="#about">Introductions</a>
            </li>
            <li class="nav-item">
                <a href="#features">Features</a>
            </li>
            <li class="nav-item">
                <a href="#installation">Installation</a>
            </li>
            <li class="nav-item">
                <a href="#folder-structure">Folder Structure</a>
            </li>
            <li class="nav-item">
                <a href="#getting-started">Getting Started</a>
            </li>
            <li class="nav-item">
                <a href="#static-routing">Static Routing</a>
            </li>
            <li class="nav-item">
                <a href="#dynamic-routing">Dynamic Routing</a>
            </li>
            <li class="nav-item">
                <a href="#render-functions">Render Functions</a>
            </li>
            <li class="nav-item">
                <a href="#render-time-variables">Render Time Variables</a>
            </li>
            <li  class="nav-item" style="padding-top: 30px;">
                <div class="columns">
                    <div class="column col-6">
                        <!-- Place this tag where you want the button to render. -->
                        <a class="github-button" href="https://github.com/mchampaneri/go-boiler/fork"
                         data-size="large" data-show-count="true"
                         aria-label="Fork mchampaneri/go-boiler on GitHub">Fork</a>
                    </div>
                    <div class="column col-6">
                        <!-- Place this tag where you want the button to render. -->
                        <a class="github-button" href="https://github.com/mchampaneri/go-boiler/archive/master.zip"
                            data-size="large"
                            aria-label="Download mchampaneri/go-boiler on GitHub">Download</a>
                    </div>
                </div>
            </li>
        </ul>
    </div>


    <div class="content">
        <h1 class="text-center">
            <span class="show-md">
                <i class="fas fa-bars fa-md" onclick="toggleSidebar()"></i>   Documentation
            </span>
        </h1>

        <div id="about" class="section">
            <h4 class="topic"> <a href="#about"> Go-Boiler </a> </h4>
            <p>
                Go-boiler is desigend for creating webapps & websites with golang.<br>According to golang philosophy you don't need framework.<blockquote> <i> Instead of using framework, integrate libraries according to your need.</i></blockquote> Go-boiler provides routing and response rendering.
                Everything else is left on developer ( Yes! that's you )
                including database.
            </p>

        </div>

        <div id="features" class="section">
            <h4 class="topic"><a href="#features">Features</a></h4>
            <p>
                Go-boiler is built-on top of existing libraries. It provider very basic facilites, wrapper functions and
                structure for website/ webapps.
            </p>
            <ul>
                <li> Web Server <i>(Golang net/http)</i> </li>
                <li> Routing <i>(Gorilla Mux)</i>
                    <ul>
                        <li> Static Routes </li>
                        <li> Dynamic Routes </li>
                    </ul>
                </li>
                <li> Response Rendering <i>(Cloudykit/jet & enocde/json)</i>
                    <ul>
                        <li> HTML Rendering </li>
                        <li> Text Rendering </li>
                        <li> JSON Response</li>
                    </ul>
                </li>
                <li>
                    CSRF <i>(Gorilla/csrf)</i>
                </li>
                <li class="text-secondary">
                    JWT Authentication ( In process )
                </li>
            </ul>
        </div>

        <div id="installation" class="section">
            <h4 class="topic"><a href="#installation">Installation</a></h4>
            <br>
            <p>You can either clone the project from github or
                download source code.<br>
                 <i> For clonning project </i></br>
                <code> $ git clone https://www.github.com/mchampaneri/go-boiler.git</code>
            </p>
            <p>
                Ready to Go!
            </p>
        </div>

        <div id="folder-structure" class="section">
            <h4 class="topic"><a href="#folder-structure">Folder Structure</a></h4>
            <ul>
                <li> <i class="fas fa-folder"></i> application (Root Folder)
                    <!-- Config folder -->
                    <ul>
                        <li> <i class="fas fa-folder"></i> config
                            <ul>
                                <li> <i class="fas fa-file"></i> app.json <span class="label">contains application
                                        configurations </span> </li>
                                <li> <i class="fas fa-file"></i> static.json <span class="label">contains list of static
                                        routes</span> </li>
                            </ul>
                        </li>
                    </ul>
                    <!-- Config folder /-->
                </li>
                <!-- public folder -->
                <li> <i class="fas fa-folder"></i> public <span class="label"> Public Folder </span> </li>
                <!-- public folder /-->
                <!-- resource folder -->
                <li> <i class="fas fa-folder"></i> resource
                    <ul>
                        <li><i class="fas fa-folder"></i> js
                                <ul>
                                <li> <i class="fas fa-file"></i> index.js <span class="label"> webpack entry file</span>
                                </li>
                            </ul>
                        <li> <i class="fas fa-folder"></i> sass </li>
                    </ul>
                </li>
                <!-- resource folder /-->
                <!-- server-logic folder -->
                <li><i class="fa-folder fas"></i> server-logic ( All gocode & Server logic)
                    <ul>
                        <li> <i class="fas fa-file"></i> app.go</li>
                        <li> <i class="fas fa-file"></i> boostrap.go</li>
                        <li> <i class="fas fa-file"></i> config.go</li>
                        <li> <i class="fas fa-file"></i> helping-functions.go <span class="label">custom helping
                                function definations</span></li>
                        <li> <i class="fas fa-file"></i> response-generator.go <span class="label">response generator
                                functions</span></li>
                        <li> <i class="fas fa-file"></i> router.go</li>
                        <li> <i class="fas fa-file"></i> routes.go <span class="label">contains dynamic routes</span>
                        </li>
                    </ul>
                </li>
                <!-- server-logic folder /-->
                <!-- storage folder-->
                <li>
                    <i class="fas fa-folder"></i> storage
                </li>
                <!-- view folder-->
                <li>
                    <i class="fas fa-folder"></i> view <span class="label">Default root folder for views</span>
                </li>
                <!-- view folder /-->
            </ul>
        </div>

        <div id="getting-started" class="section">
            <h4 class="topic"> <a href="#getting-started">Getting Started </a></h4>
            <p>
                You have to build and start application server for your application to start your application.
            </p>
            <ul> <b> Build server </b>
                <li> Open Terminal / CMD </li>
                <li> Goto root folder of your project <br> <code>$ application\ :</code></li>
                <li> Travers to server-logic folder <br> <code>$ application\server-logic\ :</code></li>
                <li> Generate server in parent folder <br>
                    <code>$ appliaction\server-logic\ : go build -o ../xerver </code> </li>
            </ul>

            <ul><b> Start server </b>
                <li> Open Terminal / CMD </li>
                <li> Goto root folder of your project <br> <code>$ application\ :</code></li>
                <li> Start xerver executable <br> <code>$ appliactions\: ./xerver</code></li>
            </ul>

            <p> Open URL <a href="http://localhost:8081/">http://localhost:8081</a>.
            </p>



        </div>

        <div id="static-routing" class="section">

            <h4 class="topic"><a href="#static-routing">Static Routing</a> </h4>
            <p>
                When you open URL <a href="http://localhost:8081/">localhost:8081</a>. You get welcome page. It's
                actully comming from static routes mapping. <br>

                <div class="bg-gray card">
                    <div class="card-body">
                        <pre class="">
                           <code>
        {
          "pages":[{
                  "url":"/",
                  "view":"index.html"
                 },
                 {
                  "url":"/about",
                  "view":"site/about.html"
                }]
        }
                            </code>
                        </pre>
                        <p><i class="fas fa-file"></i> static.json</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <div class="columns">
                            <div class="col-6 col-sm-12" style="padding:30px;">
                                <p> http://yoursite-name.domain/<b>about.html</b></p>
                                <p> Path to the view file ( Relative path to view folder )
                                    <br>
                                    <i class="fas fa-folder"></i> view
                                    <ul>
                                        <li><i class="fas fa-file"></i> index.html</li>
                                        <li><i class="fas fa-folder"></i> site
                                            <ul>
                                                <li><i class="fas fa-file"></i> about.html</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </p>
                            </div>
                            <div class="col-6 col-sm-12 text-center" style="padding:30px;">
                                <p>All static routes has to be defined inside static.json as pair of URL and page.</p>
                                <p>For example we have index.html page and about.html page with "/" and "/about" route.
                                    For those route static.json and folder arrangment of files are shown in example.</p>
                            </div>
                        </div>

                    </div>
                </div>




                <br>
                <i> Static routes has to be defined in static.json. Application need to be restarted to get static
                    routes changes in effect. Static routes does not process any render time data. So it should be use
                    only for complete static data.( Thouhg, you may fetch dynamic data using ajax )
                </i>

            </p>
        </div>

        <div id="dynamic-routing" class="section">
            <h4 class="topic"><a href="#dynamic-routing">Dynamic Routing</a></h4>
            <p> Dynmic routing is routing you specify inside <code> dynamicRoutes() </code> <b> routes.go </b> file </p>
            <p>
                <div class="bg-gray card">
                    <div class="card-body">
                        <pre>
                            <code>
        // dynamicRoutes requires route
        // and handling function for response.
        func dynamicRoutes(router *mux.Route
            router.HandleFunc("/example-route",
                    func(w http.ResponseWriter, r *http.Request){
                    // rendering view
                    data := make(map[string]interface)
                    data["user"] = "john"
                    View(w,r, data, "user.html")

        }
                            </code>
                        </pre>
                        <p><i class="fas fa-file"></i> routes.go</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-body">
                        <div class="columns">
                            <div class="col-6 col-sm-12">
                                <ul>
                                    <li> <i class="fas fa-folder"></i> application
                                        <ul>
                                            <li>
                                                <i class="fas fa-folder"></i> server-logic
                                                <ul>
                                                    <li> <i class="fas fas-file"></i> routes.go </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                            <div class="col-6 col-sm-12">
                                <p> You have to register every dynamic routes inside dynamicRoutes functions. To get
                                    dynamic routes in effect you need to recomile whole server again.</p>
                                <p> Dynamic routes can carry render time data with them using render function in
                                    handler. As shown in example we have passed render time data to View function.</p>
                            </div>
                        </div>
                    </div>
                </div>

            </p>
        </div>

        <div id="render-functions" class="section">
            <h4 class="topic"><a href="#render-functions"> Rendering Functions </a></h4>
            <br>

            <h5> View </h5>
            <p> View function expected to be used in routes. View function processs input paramerter with selected view
                template and returns processed view.</p>
            <div class="card">
                <div class="card-body">
                    <p> View function required 4 paramter in order defiened as below</p>
                    <table class="table table-hover">
                        <tr>
                            <td> http.ResponseWriter (w) </td>
                            <td> Where output has to be written</td>
                        </tr>
                        <tr>
                            <td> *http.Request (r) </td>
                            <td> request object </td>
                        </tr>
                        <tr>
                            <td> map[string]interface (dataMap) </td>
                            <td> map of data to be passed to view </td>
                        </tr>
                        <tr>
                            <td> string ('site/about.html') </td>
                            <td> Path to the view file ( relative from <i class="fas fa-folder"></i> view )</td>
                        </tr>
                    </table>
                    <pre>
                        <code>
        View(w, r, dataMap, "site/about.html")
                        </code>
                    </pre>
                </div>
                <div class="card">
                    <div class="card-body">
                        <p>Example</p>
                        <pre>
                            <code>
        // dynamicRoutes requires route
        // and handling function for response.
        func dynamicRoutes(router *mux.Rout
            router.HandleFunc("/example-route",
                    func(w http.ResponseWriter, r *http.Request){
                    // rendering view
                    data := make(map[string]interface)
                    data["user"] = "john"
                    View(w,r, data, "user.html")
            })
        }
                            </code>
                        </pre>
                        <p><i class="fas fa-file"></i> routes.go</p>
                    </div>
                </div>
            </div>

            <br>

            <h5> JSON </h5>
            <p> JSON function expected to be used in routes. JSON function returns data as json</p>
            <div class="card">
                <div class="card-body">
                    <p> JSON function required 2 paramter in order defiened as below</p>
                    <table class="table table-hover">
                        <tr>
                            <td> http.ResponseWriter (w) </td>
                            <td> Where output has to be written</td>
                        </tr>
                        <tr>
                            <td> interface (data) </td>
                            <td> data to be passed as json </td>
                        </tr>
                    </table>
                    <pre>
                        <code>
        JSON(w, data)
                        </code>
                    </pre>
                </div>
                <div class="card">

                    <div class="card-body">
                        <p>Example</p>
                        <pre>
                            <code>
        // dynamicRoutes requires route
        // and handling function for response.
        func dynamicRoutes(router *mux.Rout
            router.HandleFunc("/example-route",
                    func(w http.ResponseWriter, r *http.Request){
                    // rendering view
                    data := make(map[string]interface)
                    data["user"] = "john"
                    JSON(w, data)
            })
        }
                            </code>
                        </pre>
                        <p><i class="fas fa-file"></i> routes.go</p>
                    </div>
                </div>
            </div>

            <br>

            <h5> HTMLString </h5>
            <p> HTMLString function is similar to View function. Differance is that View function returns http response
                after execution. While HTMLString returns string of generated html instead of sending it as http
                response.</p>
            <p> Example of use,</p>
            <p> Mostly email service provider accept html as input for mail. You can use HTMLString function to generate
                HTML for you mail.</p>
            <div class="card">
                <div class="card-body">
                    <p> JSON function required 2 paramter in order defiened as below</p>
                    <table class="table table-hover">
                        <tr>
                            <td> interface (data) </td>
                            <td> data to be passed as json </td>
                        </tr>
                        <tr>
                            <td> string ('mails/invitation.html') </td>
                            <td> Where output has to be written</td>
                        </tr>
                    </table>
                    <pre>
                        <code>
        HTMLString(w, 'mails/invitation.html')
                        </code>
                    </pre>

                    <p> Example </p>
                    <pre>
                        <code>
    func SendMail(template, from, subject, info string, to string, data interface{}) {
        message := mailgun.NewMessage(
            from,
            subject,
            info,
            to)
        html := HTMLString(data, template)
        // Sends the mail using the mailgun
        // it uses the mailgun configurations for it
        message.SetHtml(html)
        var mg = mailgun.NewMailgun(Config.Mail.Domain, Config.Mail.Key, Config.Mail.PublicKey)
                _, _, err := mg.Send(message)
                if err != nil {
                    DefaultLogger.Error(err.Error())
                }
        }
                        </code>
                    </pre>
                </div>
            </div>

        </div>

        <div id="render-time-variables" class="section">
            <h4 class="topic"><a href="##render-time-variables">Render Time Variables </a></h4>

            <p> Go-boiler uses Cloudykit/JetTemplating enginer for rendering view and generating html string. Go-boiler injects certain render time variables to template.</p>
            <p> Here is the list of varaibles currenlty available. </p>
                <table class="table table-hover">
                    <tr>
                        <td>config</td>
                        <td>config object defined in app.json</td>
                    </tr>
                    <tr>
                        <td>token</td>
                        <td>CSRF token value</td>
                    </tr>
                    <tr>
                        <td>currentPATH</td>
                        <td>path of currently visible page</td>
                    </tr>
                </table>

        </div>

        <div class="footer">
            <p class="text-gray">
                <a href="https://github.com/mchampaneri/go-boiler/">Github</a>
                . <a href="https://www.mchampaneri.in">Blog</a></p>
            <p> Designed by <b><i><a href="https://www.linkedin.com/in/manish-champaneri-7b926095/">Manish
                            Champaneri</a></i></b> </p>
        </div>

    </div>


    <script>

        var t=0;

        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre code').forEach((block) => {
                hljs.highlightBlock(block);
            });
        });

        function toggleSidebar(){
            if (t == 0){
                document.getElementById("sidebar").classList.add("open")
                t = 1;
            }else{
                document.getElementById("sidebar").classList.remove("open")
                t = 0;
            }
        }


    </script>

    <!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
</body>

</html>